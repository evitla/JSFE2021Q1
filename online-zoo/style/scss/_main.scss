main {
  padding-top: 94px;

  @media (min-width: 1920px) { padding-top: 0; }
}

.watch {
  position: relative;
  background: url("../assets/images/main-bg.png") no-repeat center;
  background-size: cover;
  height: clamp(926px, 940 / 1920 * 100vw, 940px);
  overflow-x: hidden;

  @media (max-width: 640px) {
    height: calc(max(936 / 640 * 100vw, 669px));
  }

  &-wrapper { display: grid; }

  &__nav-links {
    position: absolute;
    bottom: clamp(72px, 110 / 1920 * 100vw, 110px);
    flex-direction: column;
    height: 110px;

    @media (min-width: 1920px) { left: 152px; }
    @media (max-width: 640px) { bottom: 100px; }
    @media (max-width: 639px) { display: none; }

  }

  &__title {
    margin: clamp(22px, 3.1%, 105px) 0 37px;
    color: #{map-get($colors-neutral, 200)};
    font-weight: 900;
    font-size: clamp(64px, 89 / 1200 * 100vw, 89px);
    max-width: 793px;

    @media (min-width: 1920px) { margin-top: 105px; }
    
    @media (max-width: 640px) {
      font-size: clamp(48px, 64 / 640 * 100vw, 64px);
      margin-bottom: 30 / 640 * 100vw;
    }

    @media (max-width: 320px) { margin-top: 42px; }
  }
}

.paragraph {
  text-align: left;
  font-size: 14px;
  color: var(--secondary-text-color);
}

.how-wrapper {
  width: clamp(600px, 746 / 1200 * 100vw, 790px);
  
  @media (max-width: 640px) { margin-bottom: calc(max(50px, 68 / 640 * 100vw)); }
}

.section__title {
  color: var(--primary-text-color);
  font-weight: 900;
  font-size: clamp(36px, 48 / 640 * 100vw, 48px);
  text-align: center;
}

.caption__title {
  font-weight: 900;
  font-size: 20px;
  color: var(--primary-text-color);
  text-align: center;
}

.how {
  &__title { text-align: left; }

  &_paragraph {
    margin: 30px auto;
    margin-top: clamp(20px, 30 / 640 * 100vw, 30px);
    color: var(--secondary-text-color);
    font-size: 14px;
    
    @media (max-width: 1200px) and (min-width: 1199px) {
      margin-bottom: 14px;
    }
  }

  &__footer {
    background: var(--secondary-bg-color);

    &-wrapper {
      @extend %flex-between-center;
      align-items: flex-start;
      margin: 0 auto;
      flex-wrap: wrap;
      gap: calc(max(25px, 45 / 640 * 100vw))
           calc(max(20px, 30 / 1920 * 100vw));
      padding: calc(min(100px, 50 / 320 * 100vw)) 0;
      padding-bottom: calc(max(100px, 132 / 1920 * 100vw));

      @media (max-width: 640px) { max-width: calc(640px + 287px - 100vw); }
    }

    &-info {
      flex: 1 calc((641px - 100vw) * 999);
      text-align: center;
    }

    &-caption-title { margin: 15px 0; }
  }
}

.pets-wrapper {
  max-width: clamp(1300 / 1920 * 100%, 600 / 640 * 100%, 1000px);
  text-align: center;
  margin-bottom: calc(min(116px, 66 / 320 * 100vw));
}

.pay {
  background: var(--secondary-bg-color);

  &-wrapper {
    padding: calc(min(100px, 50 / 320 * 100vw)) 0;
    text-align: center;

    @media (min-width: 1201px) { max-width: clamp(1320 / 1920 * 100%, 600 / 640 * 100%, 900px); }
  
    .paragraph {
      text-align: center;
      margin-top: clamp(15px, 30 / 1200 * 100vw, 30px);

      @media (max-width: 320px) { display: none; }
    }
  }

  &__scheme {
    @extend %flex-between-center;
    flex-wrap: wrap;
    margin: clamp(30px, 50 / 640 * 100vw, 50px) 0
            clamp(40px, 50 / 640 * 100vw, 50px);

    @media (min-width: 1201px) {
      margin: clamp(50px, 92 / 1920 * 100vw, 92px) 0
              clamp(50px, 60 / 1920 * 100vw, 60px);
    }
  }

  &__info {
    position: relative;
    flex: 1 calc((872px - 100vw) * 999);

    &-caption {
      position: absolute;
      bottom: 60px;
      left: calc(50% - 135px / 2);
      max-width: 135px;
    }
  }

  &__arrow {
    width: clamp(40px, 48 / 1200 * 100vw, 107px);
    height: 95px;
    background: url("../assets/images/right-arrow-grad.svg") no-repeat right;

    @media (min-width: 1920px) { width: 107px; }

    @media (max-width: 871px) {
      transform: rotateZ(90deg);
      margin: 0 auto;
    }
  }
}

.testimonials-wrapper {
  max-width: clamp(1300 / 1920 * 100%, 600 / 640 * 100%, 1000px);
  text-align: center;
}

.testimonials__carousel-slide-wrapper { background: var(--card-bg-color); }

.map {
  background: var(--secondary-bg-color);

  &-wrapper {
    position: relative;
    margin-bottom: 0px;
    padding: clamp(50px, 50 / 320 * 100vw, 100px) 0
             clamp(60px, 80 / 640 * 100vw, 100px);
    text-align: center;
  }

  &__img {
    margin: clamp(30px, 50 / 640 * 100vw, 60px) auto
            clamp(30px, 30 / 320 * 100vw, 35px);
  }

  &-marker { position: absolute; }

  &-marker-svg {
    width: clamp(34px, 34 / 320 * 100vw, 67px);
    height: clamp(47px, 47 / 320 * 100vw, 94px);
  }

  &__round-img {
    position: absolute;
    width: clamp(22px, 22 / 320 * 100vw, 43px);
    top: clamp(6px, 6 / 320 * 100vw, 12px);
    left: clamp(6px, 6 / 320 * 100vw, 12px);
  }
}

#map-img {
  width: 100%;
  height: clamp(290px, 436 / 1200 * 100vw, 498px);

  @media (max-width: 639px) { height: 146 / 320 * 100vw; }
}

@for $i from 1 through length($marker-positions) {
  $positions: nth($marker-positions, $i);
  $positions-639: nth($marker-positions-639, $i);

  .map-marker-#{$i} {
    top: map-get($positions, "top");
    left: map-get($positions, "left");

    @media (max-width: 639px) {
      top: map-get($positions-639, "top");
      left: map-get($positions-639, "left");
    }
  }
}

.tooltip {
  visibility: hidden;
  position: absolute;
  @extend %flex-between-center;
  height: 149px;
  left: -402px;
  top: 72px;
  box-shadow: 2px 4px 15px rgba(6,12,70,.15);
  border-radius: 8px;
  padding: 48px 55px 44px 44px;
  background: var(--primary-bg-color);

  img {
    width: 65px;
    margin-right: 20px;
  }
}

.tooltip__text {
  width: 100%;

  .caption__title {
    font-size: 18px;
    text-align: left;
    margin-bottom: 7px;
  }

  .paragraph { margin-bottom: 5px; }
}

.paragraph strong { color: var(--primary-text-color); }

.map-marker:hover {
  cursor: pointer;

  .tooltip { visibility: visible; }
  
  .map-marker-svg path { fill: #eb5757; }
}

// =========================== ZOOS PAGES =========================== //
.zoo__main {
  background: var(--tertiary-bg-color);
  padding: clamp(35px, 35 / 320 * 100vw, 60px) 0;
  position: relative;
  display: grid;
  grid-template-columns: minmax(75px, (210px / 1920px) * 100%) 1fr;
}

.zoo {
  &__wrapper {
    margin: 0 clamp(20px, 50 / 1200 * 100vw, 50px);

    @media (min-width: 1201px) { margin: 0 clamp(50px, 150 / 1920 * 100vw, 150px); }
  }

  &__title {
    position: absolute;
    top: clamp(31px, 31 / 320 * 100vw, 56px);
    font-size: clamp(24px, 24 / 320 * 100vw, 48px);
  }

  &__content {
    display: flex;
    justify-content: start;
    flex-wrap: wrap;
    gap: clamp(60px, 60 / 320 * 100vw, 90px)
         clamp(20px, 30 / 1920 * 100vw, 30px);
    padding: 90px 0;

    @media (max-width: 955px) {
      padding-top: clamp(55px, 110 / 640 * 100vw, 110px);
      padding-bottom: clamp(25px, 45 / 640 * 100vw, 45px);
    }
  }

  &__video {
    width: clamp(497px, 527 / 1200 * 100vw, 790px);
    height: clamp(280px, 297 / 1200 * 100vw, 442px);

    @media (max-width: 639px) {
      width: clamp(205px, 205 / 320 * 100vw, 497px);
      height: clamp(116px, 116 / 320 * 100vw, 280px);
    }
  }

  &__info {
    flex: 0 1 253px;

    @media (min-width: 1920px) { flex: 0 1 380px; }

    @media (max-width: 955px) { flex: 0 1 clamp(497px, 527 / 1200 * 100vw, 790px); }

    .paragraph {
      margin-top: 6px;
      font-size: clamp(12px, 12 / 320 * 100vw, 14px);
    }
  }

  &__carousel {
    position: relative;
    @extend %flex-between-center;
    flex-wrap: wrap;
    margin-top: 30px;

    &-slide {
      width: clamp(155px, 164 / 1200 * 100vw, 246px);
      height: clamp(89px, 94 / 1200 * 100vw, 141px);

      @media (max-width: 639px) {
        width: clamp(98px, 98 / 320 * 100vw, 155px);
        height: clamp(56px, 56 / 320 * 100vw, 89px);
        
        &:last-of-type { display: none; }
      }
    }

    &-dots {
      @extend %flex-between-center;
      position: absolute;
      bottom: calc(-1 * clamp(30px, 30 / 320 * 100vw, 40px));
      left: calc(50% - 16px);
    }

    &-dot {
      width: 8px;
      height: 8px;
      margin-right: 5px;
      background: #c4c4c4;
      border-radius: 50%;
    }

    &-indicator {
      @extend .zoo__carousel-dot;
      position: absolute;
      width: 11px;
      height: 11px;
      background: map-get($colors-neutral, "gradient");
    }

    &-plug {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  }

  &__info-title {
    @extend .caption__title;
    text-align: left;
    font-size: clamp(14px, 14 / 320 * 100vw, 20px);

    .paragraph + & { margin-top: 13px; }
  }
}

.zoo__sidebar {
  position: sticky;
  top: 56px;
  height: 597px;
  width: clamp(84px, 110 / 1200 * 100vw, 157px);
  left: clamp(7px, 16 / 1200 * 100vw, 26px);

  @media (max-width: 639px) {
    width: clamp(61px, 61 / 320 * 100vw, 84px);
    left: clamp(5px, 5 / 320 * 100vw, 7px)
  }
}

.map__main {
  background: var(--tertiary-bg-color);
  
  .map__img { margin-top: 80px; }
}

.map__wrapper {
  margin: 0 auto;
  padding: 60px 0 100px;
}

.map__title {
  font-size: clamp(24px, 48 / 640 * 100vw, 48px);
}

.map__paragraph {
  max-width: 790px;
  margin: 20px auto 54px;
  font-size: clamp(12px, 14 / 640 * 100vw, 14px);
}

.map-marker_pointer {
  position: absolute;

  .map-marker-svg path:hover,
  .map__round-img:hover { cursor: pointer; }
}

.map-page__img {
  position: relative;
}

@for $i from 1 through length($marker-positions) {
  $positions: nth($marker-positions, $i);
  $positions-639: nth($marker-positions-639, $i);

  .map-page-marker-#{$i} {
    top: calc(#{map-get($positions, "top")} - 210px);
    left: map-get($positions, "left");

    @media (max-width: 639px) {
      top: calc(#{map-get($positions-639, "top")} - 120px);
      left: map-get($positions-639, "left");
    }
  }
}
